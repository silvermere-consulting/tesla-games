---
import { getCollection } from "astro:content";
import SiteLayout from "../../layouts/SiteLayout.astro";
import "../../styles/global.css";

export const prerender = true;

const games = await getCollection("games");
const filtered = games.filter(g =>
  g.data.features.localCoop &&
  g.data.platforms.pc.available &&
  (g.data.platforms.pc.perks.some(p => /cloud/i.test(p)))
);

const title = "Local co-op + cloud saves";
const description = "Tesla Arcade favourites that support local multiplayer plus PC cloud save backups when you move off the road.";
---
<SiteLayout title={title} description={description}>
  <a class="text-sm text-[var(--brand-blue)] font-semibold" href="/">‚Üê Back home</a>
  <h1 class="text-3xl font-bold mt-2 mb-3 text-[var(--brand-slate)]">{title}</h1>
  <p class="text-slate-600 mb-4">{description}</p>
  <ul class="list-disc ml-6 space-y-2">
    {filtered.map(g => <li><a class="underline font-semibold" href={`/games/${g.slug}`}>{g.data.title}</a></li>)}
  </ul>
</SiteLayout>
